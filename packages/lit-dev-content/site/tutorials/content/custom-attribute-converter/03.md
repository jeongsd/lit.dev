The current implementation is not great:

- There is an unneccessary input of `dateStr` that has the job to accept a string
- The code around `willUpdate` is a bit messy and imperative
- If the user sets `date` to a new date, the `dateStr` will not be updated

The root cause of these issues is that Lit does not know how to convert a `string` attribute to a `Date` object property. This is where Lit attribute converters come in!

## Complex Attribute Converter

Lit provides a way to provide your own custom attribute converters for more complex data structures.

In this example, a complex custom attribute converter can clean up the implementation of `my-element` by providing a means to convert a `string` attribute to a `Date` object property.

## Goal for this step

Define a complex attribute converter that can convert a date-string attribute into a Javascript `Date` object property and vice versa.

### Creating the Complex Attribute Converter

* In a file called `date-converter.(ts|js)`
* Export a Javascript object called `dateConverter`
* Define `dateConverter` with the following methods:
  * `toAttribute`: a function that takes a `Date` and returns a string
  * `fromAttribtue`: a function that takes a string and returns a `Date`

#### date-converter.(ts|js)

{% switchable-sample %}

```ts
import {ComplexAttributeConverter} from 'lit';

export const dateConverter: ComplexAttributeConverter<Date> = {
  toAttribute: (date: Date) => {
    return date.toString();
  },
  fromAttribute: (value: string) => {
    return new Date(value);
  }
};
```

```js
export const dateConverter = {
  toAttribute: (date) => {
    return date.toString();
  },
  fromAttribute: (value) => {
    return new Date(value);
  },
};
```

{% endswitchable-sample %}


Congratulations! You've just defined a custom attribute converter! You can read
more on how to implement them [in the documentation](/docs/components/properties/#conversion-converter).